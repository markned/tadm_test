# Quiz Application - Модульная архитектура

Это приложение для прохождения тестов с модульной архитектурой.

## Структура проекта

```
├── index.html              # Главный HTML файл (старая версия)
├── index_backup.html       # Backup оригинальной версии
├── PROMPT.md              # Детальное описание требований
├── TESTS/                 # Папка с тестами
│   ├── tests.json         # Список тестов
│   ├── C_TADM_23/        # Тест 1
│   │   ├── config.json
│   │   └── quiz-data.json
│   └── E_S4CON_2505/     # Тест 2
│       ├── config.json
│       └── quiz-data.json
└── js/                    # JavaScript модули
    ├── services/          # Сервисы
    │   ├── testLoader.js      # Загрузка тестов
    │   ├── questionService.js # Работа с вопросами
    │   └── resultsDB.js       # База данных результатов (IndexedDB)
    ├── components/        # React компоненты
    │   ├── Icons.js           # SVG иконки
    │   ├── TestSelector.js    # Выбор теста
    │   ├── ResultsHistory.js  # История результатов
    │   └── ResultsDetails.js  # Детали результата
    └── utils/            # Утилиты
        └── helpers.js         # Вспомогательные функции
```

## Текущий статус

✅ **Создано:**
- Структура папок для модулей
- Сервисы для загрузки тестов (testLoader.js)
- Сервисы для работы с вопросами (questionService.js)
- Сервис базы данных результатов (resultsDB.js)
- Компоненты: TestSelector, ResultsHistory, ResultsDetails
- Утилиты и вспомогательные функции

⏳ **В процессе:**
- Интеграция модулей в главный App компонент
- Адаптация модулей для работы с глобальным React (через CDN)
- Полная миграция функционала из старого index.html

## Особенности

### Динамическая загрузка тестов
- Автоматическое обнаружение тестов в папке `TESTS/`
- Загрузка конфигурации и данных из JSON файлов
- Валидация структуры данных

### База данных результатов
- Сохранение результатов в IndexedDB (только в Exam Mode)
- История попыток с фильтрацией
- Детальная статистика по категориям
- Сохранение неправильных ответов для анализа

### Модульная архитектура
- Разделение логики на модули
- Легкое добавление новых тестов
- Простое обслуживание и отладка

## Как использовать

### Добавление нового теста

1. Создайте папку в `TESTS/` с ID теста (например, `NEW_TEST_001`)
2. Добавьте `config.json` с конфигурацией теста
3. Добавьте `quiz-data.json` с вопросами
4. Приложение автоматически обнаружит новый тест

### Структура config.json

```json
{
  "testId": "NEW_TEST_001",
  "testName": "Название теста",
  "quizSizes": [5, 20, 40, 80, 275],
  "defaultQuizSize": 80,
  "passThreshold": 65,
  "hintMs": 50,
  "autoNextDelayMs": 2000,
  "timePerQuestionSec": 135,
  "topicDistribution": {
    "Category1": 30,
    "Category2": 40,
    "Category3": 30
  },
  "categoryDisplayNames": {
    "Category1": "Category 1 Display Name",
    "Category2": "Category 2 Display Name",
    "Category3": "Category 3 Display Name"
  }
}
```

## Следующие шаги для завершения миграции

1. Адаптировать все модули для работы с глобальным React
2. Создать главный App.js компонент, использующий все модули
3. Интегрировать новую архитектуру в index.html
4. Протестировать все функции
5. Удалить старый код

## Технические детали

- React 18 через CDN
- Tailwind CSS для стилей
- Babel Standalone для JSX
- IndexedDB для хранения результатов
- ES6 модули (требует адаптации для работы с Babel)

